<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://ldapSettingsScreenCaption"
        class="com.haulmont.addon.ldap.web.screens.LdapSettingsEditor"
        messagesPack="com.haulmont.addon.ldap.web.screens">
    <dsContext>
        <collectionDatasource id="ldapUserAttributesDs"
                              class="com.haulmont.addon.ldap.entity.LdapUserAttribute">
            <query>
                <![CDATA[select e from ldap$LdapUserAttribute e]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode height="600"
                width="800"/>
    <layout>
        <tabSheet>
            <tab id="connectionTab"
                 caption="Connection"
                 margin="true,false,false,false"
                 spacing="true">
                <flowBox spacing="true">
                    <label id="url_label"
                           description="msg://settingsScreenUrlDescr"
                           value="msg://settingsScreenUrl"
                           width="70px"/>
                    <textField id="url"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label id="base_label"
                           description="msg://settingsScreenBaseDescr"
                           value="msg://settingsScreenBase"
                           width="70px"/>
                    <textField id="base"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label id="user_label"
                           description="msg://settingsScreenUserDescr"
                           value="msg://settingsScreenUser"
                           width="70px"/>
                    <textField id="user"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label id="password_label"
                           description="msg://settingsScreenPasswordDescr"
                           value="msg://settingsScreenPassword"
                           width="70px"/>
                    <passwordField id="password"
                                   width="370px"/>
                </flowBox>
                <buttonsPanel>
                    <button id="saveConnectionSettings"
                            caption="Save"
                            invoke="onSaveConnectionSettingsClick"/>
                    <button id="testConnection"
                            caption="Test"
                            invoke="onTestConnectionClick"/>
                </buttonsPanel>
            </tab>
            <tab id="basicAttrTab"
                 caption="Basic Attributes"
                 margin="true,false,false,false"
                 spacing="true">
                <flowBox spacing="true">
                    <label value="msg://settingsScreenLoginAttr"
                           width="180px"/>
                    <textField id="loginAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenEmailAttr"
                           width="180px"/>
                    <textField id="emailAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenCnAttr"
                           width="180px"/>
                    <textField id="cnAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenSnAttr"
                           width="180px"/>
                    <textField id="snAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenPositionAttr"
                           width="180px"/>
                    <textField id="positionAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenLanguageAttr"
                           width="180px"/>
                    <textField id="languageAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenMemberOfAttr"
                           width="180px"/>
                    <textField id="memberOfAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenOuAttr"
                           width="180px"/>
                    <textField id="ouAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenAccessGroupAttr"
                           width="180px"/>
                    <textField id="accessGroupAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenAccountExpAttr"
                           width="180px"/>
                    <textField id="accountExpiresAttribute"
                               width="260px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenUserBase"
                           width="180px"/>
                    <textField id="userBase"
                               width="260px"/>
                </flowBox>
                <button id="saveSchemaSettings"
                        caption="Save"
                        invoke="onSaveSchemaSettingsClick"/>
            </tab>
            <tab id="schemaTab"
                 caption="Schema"
                 margin="true,false,false,false"
                 spacing="true">
                <flowBox spacing="true">
                    <label value="msg://settingsScreenSchemaBase"
                           width="160px"/>
                    <textField id="schemaBase"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenUserObjectClasses"
                           width="160px"/>
                    <textField id="ldapUserObjectClassesTextField"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenMetaObjectClassName"
                           width="160px"/>
                    <textField id="metaObjectClassNameTextField"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label value="msg://settingsScreenObjectClassPropertyName"
                           width="160px"/>
                    <textField id="objectClassPropertyNameTextField"
                               width="370px"/>
                </flowBox>
                <flowBox spacing="true">
                    <label height="17px"
                           value="msg://settingsScreenAttributrPropertyName"
                           width="160px"/>
                    <textField id="attributePropertyNameTextField"
                               width="370px"/>
                </flowBox>
                <buttonsPanel>
                    <button id="updateLdapSchemaUserAttributesButton"
                            caption="msg://settingsScreenResreshLdapAttributes"
                            invoke="onUpdateLdapSchemaUserAttributesButtonClick"/>
                    <button id="settingsScreenSaveSchemaValuesButton"
                            caption="msg://settingsScreenSaveSchemaValues"
                            invoke="onSettingsScreenSaveSchemaValuesButtonClick"/>
                </buttonsPanel>
                <table id="schemaTabLdapAttributeTable"
                       height="500px"
                       width="100%">
                    <actions>
                        <action id="create"
                                caption="create"/>
                        <action id="edit"
                                caption="Edit"/>
                        <action id="remove"
                                caption="Remove"/>
                    </actions>
                    <columns>
                        <column id="attributeName"/>
                    </columns>
                    <rows datasource="ldapUserAttributesDs"/>
                    <buttonsPanel>
                        <button action="schemaTabLdapAttributeTable.create"
                                caption="msg://schemaTabLdapAttributeTableCreate"/>
                        <button action="schemaTabLdapAttributeTable.remove"
                                caption="msg://schemaTabLdapAttributeTableRemove"/>
                    </buttonsPanel>
                </table>
            </tab>
        </tabSheet>
    </layout>
</window>
